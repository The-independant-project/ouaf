{% load static %}
<script defer src="{% static 'js/burger.js' %}"></script>
{# Skip link for accessibility #}
<a class="skiplink" href="#main">Aller au contenu</a>

<header class="header" role="banner">
    <div class="header__inner">
        <!-- Brand / Logo -->
        <div class="header__brand">
            <a href="{% url 'index' %}" class="header__logo" aria-label="Aller à l'accueil">
                <img src="{% static 'images/logo_vectorise.svg' %}" alt="Logo Les Sourires d'Hindi"
                     class="header__logoImg">
                <span class="header__brandName">Les Sourires d’Hindi</span>
            </a>
        </div>

        <!-- Mobile toggle -->
        <button class="header__toggle" aria-expanded="false" aria-controls="site-nav">
            <span class="header__toggleIcon" aria-hidden="true"></span>
            <span class="sr-only"></span>
        </button>

        <!-- Primary navigation -->
        <nav id="site-nav" class="header__nav" aria-label="Navigation principale">
            <ul class="header__list">
                <li class="header__item">
                    <a class="header__link {% if request.resolver_match.url_name == 'index' %}is-active{% endif %}"
                       href="{% url 'index' %}">Accueil</a>
                </li>
                <li class="header__item">
                    <a class="header__link {% if request.resolver_match.url_name == 'organisation_chart' %}is-active{% endif %}"
                       href="{% url 'organisation_chart' %}">Trombinoscope</a>
                </li>
                <li class="header__item">
                    <a class="header__link {% if request.resolver_match.url_name == 'mediation_animale' %}is-active{% endif %}"
                       href="{% url 'mediation_animale' %}">Médiation animale</a>
                </li>
                <li class="header__item">
                    <a class="header__link {% if request.resolver_match.url_name == 'activities_list' %}is-active{% endif %}"
                       href="{% url 'activities_list' %}">Activités</a>
                </li>
                <li class="header__item">
                    <a class="header__link {% if request.resolver_match.url_name == 'animals_list' %}is-active{% endif %}"
                       href="{% url 'animals_list' %}">Animaux</a>
                </li>
                <li class="header__item">
                    <a class="header__link {% if request.resolver_match.url_name == 'contact' %}is-active{% endif %}"
                       href="{% url 'contact' %}">Contact</a>
                </li>
            </ul>

            <div class="header__user">
                <a class="header__dropdown__text">Mon compte</a>
                <ul class="header__user__content">
                    {% if user.is_authenticated %}
                        <li class="header__item">
                            <span class="header__greet">Hi {{ user.username }} !</span>
                        </li>
                        {% if perms.ouaf_app.view_event %}
                            <li class="header__item">
                                <a class="header__link" href="{% url 'backoffice:home' %}">Backoffice</a>
                            </li>
                        {% endif %}
                        <li class="header__item">
                            <a class="header__link" href="{% url 'account_edit' %}">Mes informations</a>
                        </li>
                        <li class="header__item">
                            <a class="header__link" href="{% url 'my_logout' %}">Déconnexion</a>
                        </li>
                    {% else %}
                        <li class="header__item">
                            <a class="header__link" href="{% url 'signup' %}">S'inscrire</a>
                        </li>
                        <li class="header__item">
                            <a class="header__link" href="{% url 'login' %}">Connexion</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </nav>
    </div>
</header>
